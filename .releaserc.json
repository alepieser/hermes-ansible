{
  "branches": ["main"],
  "preset": "conventionalcommits",
  "tagFormat": "v${version}",
  "plugins": [
    ["@semantic-release/commit-analyzer", {
      "releaseRules": [
        { "type": "chore", "scope": "deps", "release": "patch" },
        { "type": "dep", "release": "patch" }
      ]
    }],
    "@semantic-release/release-notes-generator",
    ["@semantic-release/changelog", {
      "changelogFile": "CHANGELOG.md"
    }],
    ["@semantic-release/github", {
      "assets": [
        { "path": "CHANGELOG.md",  "label": "Changelog" },
        { "path": "meta/main.yml", "label": "Role metadata" }
      ],
      "SuccessCommentCondition": "never",
      "failCommentCondition": "never",
      "labels": false
    }],
    ["@semantic-release/git", {
      "assets": ["CHANGELOG.md", "meta/main.yml"],
      "message": "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
    }]
  ]
}
